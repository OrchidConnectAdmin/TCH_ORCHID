<?xml version="1.0" encoding="UTF-8"?>
<WebLink xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>OrderApi__Payment</fullName>
    <availability>online</availability>
    <description>Link to the payment user interface to charge credit cards or record a received check against the invoice.</description>
    <displayType>button</displayType>
    <linkType>javascript</linkType>
    <masterLabel>Apply Payment</masterLabel>
    <openType>onClickJavaScript</openType>
    <protected>false</protected>
    <url>{!REQUIRESCRIPT(&quot;/soap/ajax/31.0/connection.js&quot;)}
if({!OR( ISPICKVAL(OrderApi__Invoice__c.OrderApi__Status__c , &#39;Posted&#39;) ,ISPICKVAL(OrderApi__Invoice__c.OrderApi__Status__c , &#39;Overdue&#39;))}) {
 location.href = &#39;{!$Site.Prefix}/apex/{!$Setup.OrderApi__App_Config__c.OrderApi__Namespace_Prefix__c}invoice_payment?invoices={!OrderApi__Invoice__c.Id}&amp;contact={!Contact.Id}&amp;account={!Account.Id}&#39;;
} else if ({!ISPICKVAL(OrderApi__Invoice__c.OrderApi__Status__c , &#39;Paid&#39;)}){
  alert(&quot;{!$Label.orderapi__Invoice_Already_Paid}&quot;);
}else {
    alert(&quot;{!$Label.orderapi__Invoice_not_Posted}&quot;);
 }</url>
</WebLink>
