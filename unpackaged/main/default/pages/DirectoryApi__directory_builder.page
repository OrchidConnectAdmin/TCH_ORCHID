<apex:page showHeader="false"
        sidebar="false"
        standardController="DirectoryApi__Directory__c"
        extensions="DirectoryApi.DirectoriesBuilderController"
        docType="html-5.0"
        applyHtmlTag="false"
        applyBodyTag="false"
        cache="false">
    <apex:includeLightning />

    <script src="{!URLFOR($Resource.Framework__SLDS_Base,'js/scripts.js')}" type="text/javascript"></script>
    <link rel="stylesheet" media="screen" href="{!URLFOR($Resource.Framework__SLDS_Base,'css/styles.css')}"/>
    <style>
      div#mdWrapper {
        background: rgba(126, 140, 153, 0.8);
      }
    </style>
    <div id="lightning" />
    <div class="slds" id="mdWrapper">
      <div class="slds-grid slds-object-height--full">
        <div class="slds-col slds-text-align--center slds-align-middle" >
          <img src="{!URLFOR($Resource.Framework__SLDS_Base,'/img/spinners/slds_spinner_brand.gif')}" alt="saving" width="50" height="50" />&nbsp;
          <span class="slds-text-heading--medium slds-theme--inverse-text">{!$Label.Loading_Directory_Builder}</span>
        </div>
      </div>
    </div>

    <script>
	  var directoryId = '{!$CurrentPage.parameters.id}';
	  if (window.location.hash.substring(1) != null && window.location.hash.substring(1).length > 0 && directoryId.length == 0) {
		directoryId = window.location.hash.substring(1);
	  }
		$Lightning.use("{!Namespace}:DirectoryBuilder", function() {
			$Lightning.createComponent("{!Namespace}:DirectoryBuilderTemplate",
				{directoryId : directoryId},
                "lightning",
                function(cmp) {}
            );
		});
	</script>
</apex:page>