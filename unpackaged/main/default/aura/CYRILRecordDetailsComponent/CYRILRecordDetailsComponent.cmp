<aura:component description="Record Details Component" controller="GetCYRILRecordDetailsController" implements="forceCommunity:availableForAllPageTypes,force:hasRecordId,force:lightningQuickAction,lightning:isUrlAddressable,flexipage:availableForAllPageTypes,force:hasSObjectName" access="global">
    <ltng:require scripts="{!$Resource.jQuery3}" afterScriptsLoaded="{!c.initDetails}"/>
    
    <aura:attribute name="bURL" type="String" />
    <!-- CONFIGS -->
    
    <aura:attribute name="cTitle" default="My Contact Details" type="String"/>
    <aura:attribute name="cRID" type="String"/>
    
    <aura:attribute name="cEnableHeader" default="true" type="Boolean"/>
    <aura:attribute name="cHeaderMain" default="Name" type="String"/>
    <aura:attribute name="cHeaderSub" default="CreatedDate" type="String"/>
    <aura:attribute name="cHeaderIcon" default="standard:contact_list" type="String"/>
    <aura:attribute name="cEnableEdit" default="false" type="Boolean"/>
    <aura:attribute name="cEditLabel" type="String" default="Edit"/>
    <aura:attribute name="cEditPath" type="String" default=""/>
    <aura:attribute name="cAppendID" type="Boolean" default="false"/>
    <aura:attribute name="cEncloseID" type="Boolean" default="false"/>
    
    <aura:attribute name="c1Title"  type="String"/>
    <aura:attribute name="c1Fields"  type="String"/>
    <aura:attribute name="c1Span" default="1" type="String"/>
    <aura:attribute name="cDisplayType" default="Card" type="String"/>
    <aura:attribute name="c1Exclude" type="Boolean" default="false"/>
    <aura:attribute name="c1Edit" type="Boolean" default="false"/>
    <aura:attribute name="c1Hide" type="Boolean" default="false"/>
    
    <aura:attribute name="c2Title" type="String" />
    <aura:attribute name="c2Fields" type="String" />
    <aura:attribute name="c2Span" default="1" type="String" />
    <aura:attribute name="c2DisplayType" default="Card" type="String"/>
    <aura:attribute name="c2Exclude" type="Boolean" default="false"/>
    <aura:attribute name="c2Edit" type="Boolean" default="false"/>
    <aura:attribute name="c2Hide" type="Boolean" default="false"/>
    
    <aura:attribute name="c3Title" type="String" />
    <aura:attribute name="c3Fields" type="String"  />
    <aura:attribute name="c3Span" default="1" type="String" />
    <aura:attribute name="c3DisplayType" default="Card" type="String"/>
    <aura:attribute name="c3Exclude" type="Boolean" default="false"/>
    <aura:attribute name="c3Edit" type="Boolean" default="false"/>
    <aura:attribute name="c3Hide" type="Boolean" default="false"/>
    
    <aura:attribute name="c4Title" type="String" />
    <aura:attribute name="c4Fields" type="String" />
    <aura:attribute name="c4Span" default="1" type="String"/>
    <aura:attribute name="c4DisplayType" default="Card" type="String"/>
    <aura:attribute name="c4Exclude" type="Boolean" default="false"/>
    <aura:attribute name="c4Edit" type="Boolean" default="false"/>
    <aura:attribute name="c4Hide" type="Boolean" default="false"/>
    
    <aura:attribute name="hideNull" default="false" type="Boolean"/>
    
    <!-- header -->
    <aura:attribute name="header" type="List" />
    <aura:attribute name="cObj" type="String"/>
    
    <!-- data -->
    <aura:attribute name="editId" type="String" />
    <aura:attribute name="colNum" type="Integer" default="2"/>
    <aura:attribute name="column1" type="List" />
    <aura:attribute name="column2" type="List" />
    <aura:attribute name="column3" type="List" />
    <aura:attribute name="column4" type="List" />
    <aura:attribute name="fields" type="List" />
    
    <aura:attribute name="isModalOpen" type="boolean" default="false"/>
    <aura:attribute name="loaded1" type="boolean" default="false"/>
    <aura:attribute name="loaded2" type="boolean" default="false"/>
    <aura:attribute name="loaded3" type="boolean" default="false"/>
    <aura:attribute name="loaded4" type="boolean" default="false"/>
    
    <aura:attribute name="c1EditNow" type="Boolean" default="false"/>
    <aura:attribute name="c2EditNow" type="Boolean" default="false"/>
    <aura:attribute name="c3EditNow" type="Boolean" default="false"/>
    <aura:attribute name="c4EditNow" type="Boolean" default="false"/>
    
    <div id="{!'block-cdetails-'+v.cRId}" class="block-cdetails" style="position: relative;">
        
        <!-- page headers -->
        <aura:if isTrue="{!v.cEnableHeader}">
            <aura:iteration items="{!v.header}" var="column" indexVar="index">
                
                <div class="slds-page-header slds-page-header_record-home" style="margin: 15px 0;">
                    <div class="slds-page-header__row">
                        <div class="slds-page-header__col-title">
                            <div class="slds-media">
                                <div class="slds-media__figure">
                                    <span class="slds-icon_container slds-icon-custom-custom103" title="account">
                                        <lightning:icon iconName="{!v.cHeaderIcon}" alternativeText="{!v.cTitle}" title="{!v.cTitle}" />
                                        <span class="slds-assistive-text">{!v.cTitle}</span>
                                    </span>
                                </div>
                                <div class="slds-media__body">
                                    <div class="slds-page-header__name">
                                        <div class="slds-page-header__name-title">
                                            <h2>
                                                <span class="slds-page-header__title">{!v.cTitle}</span>
                                                <span>{!column.label}</span>
                                            </h2>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="slds-page-header__col-actions">
                            <div class="slds-page-header__controls">
                                <div class="slds-page-header__control">
                                    <ul class="slds-button-group-list">
                                        <aura:if isTrue="{!v.cEnableEdit}">
                                            <li>
                                                <aura:if isTrue="{!not(empty(v.cEditPath))}">
                                                    <aura:if isTrue="{!v.cAppendID}">
                                                        <aura:if isTrue="{!v.cEncloseID}">
                                                            <a class="slds-button slds-button_neutral" href="{!v.bURL+v.cEditPath+'%27'+v.cRID+'%27' }">{!v.cEditLabel}</a>
                                                            <aura:set attribute="else">     
                                                                <a class="slds-button slds-button_neutral" href="{!v.bURL+v.cEditPath+v.cRID}">{!v.cEditLabel}</a>
                                                            </aura:set>
                                                        </aura:if>
                                                        
                                                        <aura:set attribute="else">     
                                                            <a class="slds-button slds-button_neutral" href="{!v.bURL+v.cEditPath}">{!v.cEditLabel}</a>
                                                        </aura:set>
                                                    </aura:if> 
                                                    <aura:set attribute="else"> 
                                                        <button class="slds-button slds-button_neutral" onclick="{! c.openModal }">{!v.cEditLabel}</button>
                                                    </aura:set>
                                                </aura:if>
                                            </li>
                                            
                                        </aura:if>
                                        
                                        
                                        
                                        
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slds-page-header__row slds-page-header__row_gutters">
                        <div class="slds-page-header__col-details">
                            <ul class="slds-page-header__detail-row">
                                <aura:iteration items="{!column.data}" var="col" indexVar="i">
                                    <li class="slds-page-header__detail-block">
                                        <div class="slds-text-title" title="Field 1">{!col.label}</div>
                                        <div class="slds-text-value">
                                            
                                            <aura:if isTrue="{!col.answer !='NULL'}">
                                                <aura:if isTrue="{!col.type=='MULTIPICKLIST'}">
                                                    <aura:unescapedHtml value="{!col.answer}" />
                                                    <aura:set attribute="else">
                                                        <aura:unescapedHtml value="{!col.answer}"/>
                                                    </aura:set>
                                                </aura:if>
                                            </aura:if>
                                            
                                        </div>
                                    </li>
                                </aura:iteration>
                            </ul>
                        </div>
                    </div>
                </div>
            </aura:iteration>
            <aura:set attribute="else">
                <h1>{!v.cTitle}</h1>                
            </aura:set>
        </aura:if>
        
        
        
        
            <!-- IF CARDS -->
            <ul class="slds-grid slds-wrap slds-grid_pull-padded">
                <!-- COLUMN 1-->
                <aura:if isTrue="{!not(empty(v.column1))}">
                    <aura:if isTrue="{!v.cDisplayType == 'Card'}">
                        <li class="{!'slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_'+v.c1Span+'-of-4'}" style="position: relative;">
                            <aura:if isTrue="{! not(v.loaded1) }">
                                <div class="loader-container">
                                    <lightning:spinner alternativeText="Loading Data Please Wait..." aura:id="mySpinner" />
                                </div>
                            </aura:if>
                            <aura:if isTrue="{!not(empty(v.c1Title))}"><h2>{!v.c1Title}</h2></aura:if>
                            <aura:iteration items="{!v.column1}" var="column" indexVar="index">
                                <aura:if isTrue="{!not(and(v.c1Hide,column.hide))}">
                                <article class="{!'slds-card card-details '+index}" style="margin: 15px 0;">
                                    <div class="slds-card__header slds-grid">
                                        <header class="slds-media slds-media_center slds-has-flexi-truncate" style="padding-bottom: 10px;">
                                            <div class="slds-media__body">
                                                <h3 class="slds-card__header-title">
                                                    <span>{!column.label}</span>
                                                </h3>
                                            </div>
                                        <aura:if isTrue="{!v.c1Edit}">
                                            <div class="slds-no-flex">
                                                <div class="slds-dropdown-trigger slds-dropdown-trigger_click">
                                                     <button class="slds-button slds-button_neutral" onclick="{! c.editCol1 }">Edit</button>
                                                </div>
                                            </div>
                                        </aura:if>
                                        </header>
                                    </div>
                                    <div class="slds-card__body slds-card__body_inner">
                                        
                                    	<aura:if isTrue="{!v.c1EditNow}">    
                                            <lightning:recordEditForm 
                                                                      aura:id="recordEditForm"
                                                                      objectApiName="{!v.cObj}"
                                                                      onsuccess="{!c.addSuccess}"
                                                                      recordId="{!v.cRID}"
                                                                      >
                                                <lightning:messages />
                                                <aura:if isTrue="{!and(not(empty(v.column1)),v.c1Edit)}">
                                                        <aura:iteration items="{!column.data}" var="col" indexVar="c">
                                                            <lightning:inputField fieldName="{!col.api}"/>
                                                        </aura:iteration>
                                                </aura:if>
                    
                                                <lightning:button variant="Neutral" class="slds-m-top_small" type="button" label="Cancel" onclick="{! c.cancelCol1 }"/>
                                                <lightning:button variant="brand" class="slds-m-top_small slds-float_right" type="submit" label="Submit" />
                                                
                                            </lightning:recordEditForm>
                                        
                                        
                                        <aura:set attribute="else">
                                            <aura:iteration items="{!column.data}" var="col" indexVar="c">
                                                <aura:if isTrue="{!and(col.answer =='NULL', v.hideNull)}">
                                                    
                                                    <aura:set attribute="else">
                                                        <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                                <ul class="{!'q-block grid-fields slds-grid slds-wrap slds-grid_pull-padded q-name-'+col.api+' q-type-'+col.type}">
                                                                    <li class="{!'q-label slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-1'}">
                                                                        
                                                                        <b>{!col.label}</b>
                                                                        <aura:if isTrue="{!col.help!='NULL'}">
                                                                            <div class="help"><img src="{!$Resource.CYRILSLDSW21 + '/assets/icons/utility/info_alt_60.png'}" width="14" height="14" alt="help"/> {!col.help}</div>
                                                                        </aura:if>
                                                                        <aura:if isTrue="{!col.answer !='NULL'}">
                                                                            <aura:if isTrue="{!col.type=='MULTIPICKLIST'}">
                                                                                <div class="ans">
                                                                                    <aura:unescapedHtml value="{!col.answer}" />
                                                                                </div>
                                                                                <aura:set attribute="else">
                                                                                    <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                                                    <div class="ans">
                                                                                        <aura:unescapedHtml value="{!col.answer}" />
                                                                                    </div>
                                                                                    <aura:set attribute="else">
                                                                                        <div class="ans">
                                                                                            <aura:unescapedHtml value="{!col.answer}" />
                                                                                        </div>
                                                                                    </aura:set>
                                                                                    </aura:if>
                                                                                </aura:set>
                                                                            </aura:if>
                                                                        </aura:if>
                                                                    </li>
                                                                </ul>
                                                            
                                                            <aura:set attribute="else">
                                                                
                                                                <ul class="{!'q-block grid-fields slds-grid slds-wrap slds-grid_pull-padded q-name-'+col.api+' q-type-'+col.type}">
                                                                    <li class="{!'q-label slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-2'}">
                                                                        
                                                                        <b>{!col.label}</b>
                                                                        <aura:if isTrue="{!col.help!='NULL'}">
                                                                            <div class="help"><img src="{!$Resource.CYRILSLDSW21 + '/assets/icons/utility/info_alt_60.png'}" width="14" height="14" alt="help"/> {!col.help}</div>
                                                                        </aura:if>
                                                                    </li>
                                                                    <li class="{!'q-answer slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-2'}">
                                                                        
                                                                        <aura:if isTrue="{!col.answer !='NULL'}">
                                                                            <aura:if isTrue="{!col.type=='MULTIPICKLIST'}">
                                                                                <div class="ans">
                                                                                    <aura:unescapedHtml value="{!col.answer}" />
                                                                                </div>
                                                                                <aura:set attribute="else">
                                                                                    <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                                                    <div class="ans">
                                                                                        <aura:unescapedHtml value="{!col.answer}" />
                                                                                    </div>
                                                                                    <aura:set attribute="else">
                                                                                        <div class="ans">
                                                                                            <aura:unescapedHtml value="{!col.answer}" />
                                                                                        </div>
                                                                                    </aura:set>
                                                                                    </aura:if>
                                                                                </aura:set>
                                                                            </aura:if>
                                                                        </aura:if>
                                                                        
                                                                    </li>
                                                                </ul>
                                                            </aura:set>
                                                        </aura:if>
                                                        <hr style="margin-top: 5px; margin-bottom: 5px; opacity: 0.7;" />
                                                    </aura:set>
                                                </aura:if>
                                            </aura:iteration>
                                        </aura:set>
                                        </aura:if>
                                    </div>
                                </article>
                                </aura:if>
                            </aura:iteration>
                        </li>
                    
                	<aura:set attribute="else">
                        <!-- ACCORDION ********************************************************************** -->
                            <li class="{!'slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_'+v.c1Span+'-of-4'}" style="position: relative;">
                                <aura:if isTrue="{! not(v.loaded1) }">
                                    <div class="loader-container">
                                        <lightning:spinner alternativeText="Loading Data Please Wait..." aura:id="mySpinner" />
                                    </div>
                                </aura:if>
                                <aura:if isTrue="{!not(empty(v.c1Title))}"><h2>{!v.c1Title}</h2></aura:if>
                                <lightning:accordion aura:id="accordion">
                                    <aura:iteration items="{!v.column1}" var="column" indexVar="index">
                                        <lightning:accordionSection name="{!'section-'+index}" class="{!'sec-bar sec-'+index}" label="{!column.label}">
                                            <aura:iteration items="{!column.data}" var="col" indexVar="c">
                                                <aura:if isTrue="{!and(col.answer =='NULL', v.hideNull)}">
                                                    
                                                    <aura:set attribute="else">
                                                        <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                            <ul class="{!'q-block grid-fields slds-grid slds-wrap slds-grid_pull-padded q-name-'+col.api+' q-type-'+col.type}">
                                                                <li class="{!'q-label slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-1'}">
                                                                    
                                                                    <b>{!col.label}</b>
                                                                    <aura:if isTrue="{!col.help!='NULL'}">
                                                                        <div class="help"><img src="{!$Resource.CYRILSLDSW21 + '/assets/icons/utility/info_alt_60.png'}" width="14" height="14" alt="help"/> {!col.help}</div>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!col.answer !='NULL'}">
                                                                        <aura:if isTrue="{!col.type=='MULTIPICKLIST'}">
                                                                            <div class="ans">
                                                                                <aura:unescapedHtml value="{!col.answer}" />
                                                                            </div>
                                                                            <aura:set attribute="else">
                                                                                <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                                                <div class="ans">
                                                                                    <aura:unescapedHtml value="{!col.answer}" />
                                                                                </div>
                                                                                <aura:set attribute="else">
                                                                                    <div class="ans">
                                                                                        <aura:unescapedHtml value="{!col.answer}" />
                                                                                    </div>
                                                                                </aura:set>
                                                                                </aura:if>
                                                                            </aura:set>
                                                                        </aura:if>
                                                                    </aura:if>
                                                                </li>
                                                            </ul>
                                                        
                                                        <aura:set attribute="else">
                                                            
                                                            <ul class="{!'q-block grid-fields slds-grid slds-wrap slds-grid_pull-padded q-name-'+col.api+' q-type-'+col.type}">
                                                                <li class="{!'q-label slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-2'}">
                                                                    
                                                                    <b>{!col.label}</b>
                                                                    <aura:if isTrue="{!col.help!='NULL'}">
                                                                        <div class="help"><img src="{!$Resource.CYRILSLDSW21 + '/assets/icons/utility/info_alt_60.png'}" width="14" height="14" alt="help"/> {!col.help}</div>
                                                                    </aura:if>
                                                                </li>
                                                                <li class="{!'q-answer slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-2'}">
                                                                    
                                                                    <aura:if isTrue="{!col.answer !='NULL'}">
                                                                        <aura:if isTrue="{!col.type=='MULTIPICKLIST'}">
                                                                            <div class="ans">
                                                                                <aura:unescapedHtml value="{!col.answer}" />
                                                                            </div>
                                                                            <aura:set attribute="else">
                                                                                <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                                                <div class="ans">
                                                                                    <aura:unescapedHtml value="{!col.answer}" />
                                                                                </div>
                                                                                <aura:set attribute="else">
                                                                                    <div class="ans">
                                                                                        <aura:unescapedHtml value="{!col.answer}" />
                                                                                    </div>
                                                                                </aura:set>
                                                                                </aura:if>
                                                                            </aura:set>
                                                                        </aura:if>
                                                                    </aura:if>
                                                                    
                                                                </li>
                                                            </ul>
                                                        </aura:set>
                                                    </aura:if>
                                                        <hr style="margin-top: 5px; margin-bottom: 5px; opacity: 0.7;" />
                                                    </aura:set>
                                                </aura:if>
                                            </aura:iteration>
                                        </lightning:accordionSection>
                                    </aura:iteration>
                                </lightning:accordion>
                            </li>
                    </aura:set>
                    </aura:if>
                </aura:if>
                
                
                
                <!-- COLUMN 2-->
                <aura:if isTrue="{!not(empty(v.column2))}">
                    <aura:if isTrue="{!v.c2DisplayType == 'Card'}">
                        <li class="{!'slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_'+v.c2Span+'-of-4'}" style="position: relative;">
                            <aura:if isTrue="{! not(v.loaded2) }">
                                <div class="loader-container">
                                    <lightning:spinner alternativeText="Loading Data Please Wait..." aura:id="mySpinner" />
                                </div>
                            </aura:if>
                            <aura:if isTrue="{!not(empty(v.c2Title))}"><h2>{!v.c2Title}</h2></aura:if>
                            <aura:iteration items="{!v.column2}" var="column" indexVar="index">
                                <aura:if isTrue="{!not(and(v.c2Hide,column.hide))}">
                                
                                <article class="{!'slds-card card-details '+index}" style="margin: 15px 0;">
                                    <div class="slds-card__header slds-grid">
                                        <header class="slds-media slds-media_center slds-has-flexi-truncate" style="padding-bottom: 10px;">
                                            <div class="slds-media__body">
                                                <h3 class="slds-card__header-title">
                                                    <span>{!column.label}</span>
                                                </h3>
                                            </div>
                                        <aura:if isTrue="{!v.c2Edit}">
                                            <div class="slds-no-flex">
                                                <div class="slds-dropdown-trigger slds-dropdown-trigger_click">
                                                     <button class="slds-button slds-button_neutral" onclick="{! c.editCol2 }">Edit</button>
                                                </div>
                                            </div>
                                        </aura:if>
                                        </header>
                                    </div>
                                    <div class="slds-card__body slds-card__body_inner">
                                        
                                    	<aura:if isTrue="{!v.c2EditNow}">    
                                            <lightning:recordEditForm 
                                                                      aura:id="recordEditForm"
                                                                      objectApiName="{!v.cObj}"
                                                                      onsuccess="{!c.addSuccess}"
                                                                      recordId="{!v.cRID}"
                                                                      >
                                                <lightning:messages />
                                                <aura:if isTrue="{!and(not(empty(v.column2)),v.c2Edit)}">
                                                        <aura:iteration items="{!column.data}" var="col" indexVar="c">
                                                            <lightning:inputField fieldName="{!col.api}"/>
                                                        </aura:iteration>
                                                </aura:if>
                    
                                                
                                                <lightning:button variant="Neutral" class="slds-m-top_small" type="button" label="Cancel" onclick="{! c.cancelCol2 }"/>
                                                <lightning:button variant="brand" class="slds-m-top_small slds-float_right" type="submit" label="Submit" />
                                            </lightning:recordEditForm>
                                        
                                        
                                        <aura:set attribute="else">
                                        
                                        
                                        
                                            <aura:iteration items="{!column.data}" var="col" indexVar="c">
                                                <aura:if isTrue="{!and(col.answer =='NULL', v.hideNull)}">
                                                    
                                                    <aura:set attribute="else">
                                                        <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                                <ul class="{!'q-block grid-fields slds-grid slds-wrap slds-grid_pull-padded q-name-'+col.api+' q-type-'+col.type}">
                                                                    <li class="{!'q-label slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-1'}">
                                                                        
                                                                        <b>{!col.label}</b>
                                                                        <aura:if isTrue="{!col.help!='NULL'}">
                                                                            <div class="help"><img src="{!$Resource.CYRILSLDSW21 + '/assets/icons/utility/info_alt_60.png'}" width="14" height="14" alt="help"/> {!col.help}</div>
                                                                        </aura:if>
                                                                        <aura:if isTrue="{!col.answer !='NULL'}">
                                                                            <aura:if isTrue="{!col.type=='MULTIPICKLIST'}">
                                                                                <div class="ans">
                                                                                    <aura:unescapedHtml value="{!col.answer}" />
                                                                                </div>
                                                                                <aura:set attribute="else">
                                                                                    <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                                                    <div class="ans">
                                                                                        <aura:unescapedHtml value="{!col.answer}" />
                                                                                    </div>
                                                                                    <aura:set attribute="else">
                                                                                        <div class="ans">
                                                                                            <aura:unescapedHtml value="{!col.answer}" />
                                                                                        </div>
                                                                                    </aura:set>
                                                                                    </aura:if>
                                                                                </aura:set>
                                                                            </aura:if>
                                                                        </aura:if>
                                                                    </li>
                                                                </ul>
                                                            
                                                            <aura:set attribute="else">
                                                                
                                                                <ul class="{!'q-block grid-fields slds-grid slds-wrap slds-grid_pull-padded q-name-'+col.api+' q-type-'+col.type}">
                                                                    <li class="{!'q-label slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-2'}">
                                                                        
                                                                        <b>{!col.label}</b>
                                                                        <aura:if isTrue="{!col.help!='NULL'}">
                                                                            <div class="help"><img src="{!$Resource.CYRILSLDSW21 + '/assets/icons/utility/info_alt_60.png'}" width="14" height="14" alt="help"/> {!col.help}</div>
                                                                        </aura:if>
                                                                    </li>
                                                                    <li class="{!'q-answer slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-2'}">
                                                                        
                                                                        <aura:if isTrue="{!col.answer !='NULL'}">
                                                                            <aura:if isTrue="{!col.type=='MULTIPICKLIST'}">
                                                                                <div class="ans">
                                                                                    <aura:unescapedHtml value="{!col.answer}" />
                                                                                </div>
                                                                                <aura:set attribute="else">
                                                                                    <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                                                    <div class="ans">
                                                                                        <aura:unescapedHtml value="{!col.answer}" />
                                                                                    </div>
                                                                                    <aura:set attribute="else">
                                                                                        <div class="ans">
                                                                                            <aura:unescapedHtml value="{!col.answer}" />
                                                                                        </div>
                                                                                    </aura:set>
                                                                                    </aura:if>
                                                                                </aura:set>
                                                                            </aura:if>
                                                                        </aura:if>
                                                                        
                                                                    </li>
                                                                </ul>
                                                            </aura:set>
                                                        </aura:if>
                                                        <hr style="margin-top: 5px; margin-bottom: 5px; opacity: 0.7;" />
                                                    </aura:set>
                                                </aura:if>
                                            </aura:iteration>
                                        </aura:set>
                                        </aura:if>
                                    </div>
                                </article>
                                </aura:if>
                            </aura:iteration>
                        </li>
                    
                	<aura:set attribute="else">
                        <!-- ACCORDION ********************************************************************** -->
                            <li class="{!'slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_'+v.c2Span+'-of-4'}" style="position: relative;">
                                <aura:if isTrue="{! not(v.loaded2) }">
                                    <div class="loader-container">
                                        <lightning:spinner alternativeText="Loading Data Please Wait..." aura:id="mySpinner" />
                                    </div>
                                </aura:if>
                                <aura:if isTrue="{!not(empty(v.c2Title))}"><h2>{!v.c2Title}</h2></aura:if>
                                <lightning:accordion aura:id="accordion">
                                    <aura:iteration items="{!v.column2}" var="column" indexVar="index">
                                        <lightning:accordionSection name="{!'section-'+index}" class="{!'sec-bar sec-'+index}" label="{!column.label}">
                                            <aura:iteration items="{!column.data}" var="col" indexVar="c">
                                                <aura:if isTrue="{!and(col.answer =='NULL', v.hideNull)}">
                                                    
                                                    <aura:set attribute="else">
                                                        <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                            <ul class="{!'q-block grid-fields slds-grid slds-wrap slds-grid_pull-padded q-name-'+col.api+' q-type-'+col.type}">
                                                                <li class="{!'q-label slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-1'}">
                                                                    
                                                                    <b>{!col.label}</b>
                                                                    <aura:if isTrue="{!col.help!='NULL'}">
                                                                        <div class="help"><img src="{!$Resource.CYRILSLDSW21 + '/assets/icons/utility/info_alt_60.png'}" width="14" height="14" alt="help"/> {!col.help}</div>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!col.answer !='NULL'}">
                                                                        <aura:if isTrue="{!col.type=='MULTIPICKLIST'}">
                                                                            <div class="ans">
                                                                                <aura:unescapedHtml value="{!col.answer}" />
                                                                            </div>
                                                                            <aura:set attribute="else">
                                                                                <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                                                <div class="ans">
                                                                                    <aura:unescapedHtml value="{!col.answer}" />
                                                                                </div>
                                                                                <aura:set attribute="else">
                                                                                    <div class="ans">
                                                                                        <aura:unescapedHtml value="{!col.answer}" />
                                                                                    </div>
                                                                                </aura:set>
                                                                                </aura:if>
                                                                            </aura:set>
                                                                        </aura:if>
                                                                    </aura:if>
                                                                </li>
                                                            </ul>
                                                        
                                                        <aura:set attribute="else">
                                                            
                                                            <ul class="{!'q-block grid-fields slds-grid slds-wrap slds-grid_pull-padded q-name-'+col.api+' q-type-'+col.type}">
                                                                <li class="{!'q-label slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-2'}">
                                                                    
                                                                    <b>{!col.label}</b>
                                                                    <aura:if isTrue="{!col.help!='NULL'}">
                                                                        <div class="help"><img src="{!$Resource.CYRILSLDSW21 + '/assets/icons/utility/info_alt_60.png'}" width="14" height="14" alt="help"/> {!col.help}</div>
                                                                    </aura:if>
                                                                </li>
                                                                <li class="{!'q-answer slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-2'}">
                                                                    
                                                                    <aura:if isTrue="{!col.answer !='NULL'}">
                                                                        <aura:if isTrue="{!col.type=='MULTIPICKLIST'}">
                                                                            <div class="ans">
                                                                                <aura:unescapedHtml value="{!col.answer}" />
                                                                            </div>
                                                                            <aura:set attribute="else">
                                                                                <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                                                <div class="ans">
                                                                                    <aura:unescapedHtml value="{!col.answer}" />
                                                                                </div>
                                                                                <aura:set attribute="else">
                                                                                    <div class="ans">
                                                                                        <aura:unescapedHtml value="{!col.answer}" />
                                                                                    </div>
                                                                                </aura:set>
                                                                                </aura:if>
                                                                            </aura:set>
                                                                        </aura:if>
                                                                    </aura:if>
                                                                    
                                                                </li>
                                                            </ul>
                                                        </aura:set>
                                                    </aura:if>
                                                        <hr style="margin-top: 5px; margin-bottom: 5px; opacity: 0.7;" />
                                                    </aura:set>
                                                </aura:if>
                                            </aura:iteration>
                                        </lightning:accordionSection>
                                    </aura:iteration>
                                </lightning:accordion>
                            </li>
                    </aura:set>
                    </aura:if>
                </aura:if>
                
                <!-- COLUMN 3-->
                <aura:if isTrue="{!not(empty(v.column3))}">
                    <aura:if isTrue="{!v.c3DisplayType == 'Card'}">
                        <li class="{!'slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_'+v.c3Span+'-of-4'}" style="position: relative;">
                            <aura:if isTrue="{! not(v.loaded3) }">
                                <div class="loader-container">
                                    <lightning:spinner alternativeText="Loading Data Please Wait..." aura:id="mySpinner" />
                                </div>
                            </aura:if>
                            <aura:if isTrue="{!not(empty(v.c3Title))}"><h2>{!v.c3Title}</h2></aura:if>
                            <aura:iteration items="{!v.column3}" var="column" indexVar="index">
                                <aura:if isTrue="{!not(and(v.c3Hide,column.hide))}">
                                <article class="{!'slds-card card-details '+index}" style="margin: 15px 0;">
                                    <div class="slds-card__header slds-grid">
                                        <header class="slds-media slds-media_center slds-has-flexi-truncate" style="padding-bottom: 10px;">
                                            <div class="slds-media__body">
                                                <h3 class="slds-card__header-title">
                                                    <span>{!column.label}</span>
                                                </h3>
                                            </div>
                                                   <aura:if isTrue="{!v.c3Edit}">
                                            <div class="slds-no-flex">
                                                <div class="slds-dropdown-trigger slds-dropdown-trigger_click">
                                                     <button class="slds-button slds-button_neutral" onclick="{! c.editCol3 }">Edit</button>
                                                </div>
                                            </div>
                                        </aura:if>
                                        </header>
                                    </div>
                                    <div class="slds-card__body slds-card__body_inner">
                                        
                                    	<aura:if isTrue="{!v.c3EditNow}">    
                                            <lightning:recordEditForm 
                                                                      aura:id="recordEditForm"
                                                                      objectApiName="{!v.cObj}"
                                                                      onsuccess="{!c.addSuccess}"
                                                                      recordId="{!v.cRID}"
                                                                      >
                                                <lightning:messages />
                                                <aura:if isTrue="{!and(not(empty(v.column3)),v.c3Edit)}">
                                                    <!-- <aura:iteration items="{!v.column3}" var="column" indexVar="index"> -->
                                                        <aura:iteration items="{!column.data}" var="col" indexVar="c">
                                                            <lightning:inputField fieldName="{!col.api}"/>
                                                        </aura:iteration>
                                                    <!-- </aura:iteration> -->
                                                </aura:if>
                    
                                                <lightning:button variant="Neutral" class="slds-m-top_small" type="button" label="Cancel" onclick="{! c.cancelCol3 }"/>
                                                <lightning:button variant="brand" class="slds-m-top_small slds-float_right" type="submit" label="Submit" />
                                                
                                            </lightning:recordEditForm>
                                        
                                        
                                        <aura:set attribute="else">
                                            <aura:iteration items="{!column.data}" var="col" indexVar="c">
                                                <aura:if isTrue="{!and(col.answer =='NULL', v.hideNull)}">
                                                    
                                                    <aura:set attribute="else">
                                                        <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                                <ul class="{!'q-block grid-fields slds-grid slds-wrap slds-grid_pull-padded q-name-'+col.api+' q-type-'+col.type}">
                                                                    <li class="{!'q-label slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-1'}">
                                                                        
                                                                        <b>{!col.label}</b>
                                                                        <aura:if isTrue="{!col.help!='NULL'}">
                                                                            <div class="help"><img src="{!$Resource.CYRILSLDSW21 + '/assets/icons/utility/info_alt_60.png'}" width="14" height="14" alt="help"/> {!col.help}</div>
                                                                        </aura:if>
                                                                        <aura:if isTrue="{!col.answer !='NULL'}">
                                                                            <aura:if isTrue="{!col.type=='MULTIPICKLIST'}">
                                                                                <div class="ans">
                                                                                    <aura:unescapedHtml value="{!col.answer}" />
                                                                                </div>
                                                                                <aura:set attribute="else">
                                                                                    <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                                                    <div class="ans">
                                                                                        <aura:unescapedHtml value="{!col.answer}" />
                                                                                    </div>
                                                                                    <aura:set attribute="else">
                                                                                        <div class="ans">
                                                                                            <aura:unescapedHtml value="{!col.answer}" />
                                                                                        </div>
                                                                                    </aura:set>
                                                                                    </aura:if>
                                                                                </aura:set>
                                                                            </aura:if>
                                                                        </aura:if>
                                                                    </li>
                                                                </ul>
                                                            
                                                            <aura:set attribute="else">
                                                                
                                                                <ul class="{!'q-block grid-fields slds-grid slds-wrap slds-grid_pull-padded q-name-'+col.api+' q-type-'+col.type}">
                                                                    <li class="{!'q-label slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-2'}">
                                                                        
                                                                        <b>{!col.label}</b>
                                                                        <aura:if isTrue="{!col.help!='NULL'}">
                                                                            <div class="help"><img src="{!$Resource.CYRILSLDSW21 + '/assets/icons/utility/info_alt_60.png'}" width="14" height="14" alt="help"/> {!col.help}</div>
                                                                        </aura:if>
                                                                    </li>
                                                                    <li class="{!'q-answer slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-2'}">
                                                                        
                                                                        <aura:if isTrue="{!col.answer !='NULL'}">
                                                                            <aura:if isTrue="{!col.type=='MULTIPICKLIST'}">
                                                                                <div class="ans">
                                                                                    <aura:unescapedHtml value="{!col.answer}" />
                                                                                </div>
                                                                                <aura:set attribute="else">
                                                                                    <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                                                    <div class="ans">
                                                                                        <aura:unescapedHtml value="{!col.answer}" />
                                                                                    </div>
                                                                                    <aura:set attribute="else">
                                                                                        <div class="ans">
                                                                                            <aura:unescapedHtml value="{!col.answer}" />
                                                                                        </div>
                                                                                    </aura:set>
                                                                                    </aura:if>
                                                                                </aura:set>
                                                                            </aura:if>
                                                                        </aura:if>
                                                                        
                                                                    </li>
                                                                </ul>
                                                            </aura:set>
                                                        </aura:if>
                                                        <hr style="margin-top: 5px; margin-bottom: 5px; opacity: 0.7;" />
                                                    </aura:set>
                                                </aura:if>
                                            </aura:iteration>
                                        </aura:set>
                                        </aura:if>
                                    </div>
                                </article>
                                </aura:if>
                            </aura:iteration>
                        </li>
                    
                	<aura:set attribute="else">
                        <!-- ACCORDION ********************************************************************** -->
                            <li class="{!'slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_'+v.c3Span+'-of-4'}" style="position: relative;">
                                <aura:if isTrue="{! not(v.loaded3) }">
                                    <div class="loader-container">
                                        <lightning:spinner alternativeText="Loading Data Please Wait..." aura:id="mySpinner" />
                                    </div>
                                </aura:if>
                                <aura:if isTrue="{!not(empty(v.c3Title))}"><h2>{!v.c3Title}</h2></aura:if>
                                <lightning:accordion aura:id="accordion">
                                    <aura:iteration items="{!v.column3}" var="column" indexVar="index">
                                        <lightning:accordionSection name="{!'section-'+index}" class="{!'sec-bar sec-'+index}" label="{!column.label}">
                                            <aura:iteration items="{!column.data}" var="col" indexVar="c">
                                                <aura:if isTrue="{!and(col.answer =='NULL', v.hideNull)}">
                                                    
                                                    <aura:set attribute="else">
                                                        <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                            <ul class="{!'q-block grid-fields slds-grid slds-wrap slds-grid_pull-padded q-name-'+col.api+' q-type-'+col.type}">
                                                                <li class="{!'q-label slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-1'}">
                                                                    
                                                                    <b>{!col.label}</b>
                                                                    <aura:if isTrue="{!col.help!='NULL'}">
                                                                        <div class="help"><img src="{!$Resource.CYRILSLDSW21 + '/assets/icons/utility/info_alt_60.png'}" width="14" height="14" alt="help"/> {!col.help}</div>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!col.answer !='NULL'}">
                                                                        <aura:if isTrue="{!col.type=='MULTIPICKLIST'}">
                                                                            <div class="ans">
                                                                                <aura:unescapedHtml value="{!col.answer}" />
                                                                            </div>
                                                                            <aura:set attribute="else">
                                                                                <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                                                <div class="ans">
                                                                                    <aura:unescapedHtml value="{!col.answer}" />
                                                                                </div>
                                                                                <aura:set attribute="else">
                                                                                    <div class="ans">
                                                                                        <aura:unescapedHtml value="{!col.answer}" />
                                                                                    </div>
                                                                                </aura:set>
                                                                                </aura:if>
                                                                            </aura:set>
                                                                        </aura:if>
                                                                    </aura:if>
                                                                </li>
                                                            </ul>
                                                        
                                                        <aura:set attribute="else">
                                                            
                                                            <ul class="{!'q-block grid-fields slds-grid slds-wrap slds-grid_pull-padded q-name-'+col.api+' q-type-'+col.type}">
                                                                <li class="{!'q-label slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-2'}">
                                                                    
                                                                    <b>{!col.label}</b>
                                                                    <aura:if isTrue="{!col.help!='NULL'}">
                                                                        <div class="help"><img src="{!$Resource.CYRILSLDSW21 + '/assets/icons/utility/info_alt_60.png'}" width="14" height="14" alt="help"/> {!col.help}</div>
                                                                    </aura:if>
                                                                </li>
                                                                <li class="{!'q-answer slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-2'}">
                                                                    
                                                                    <aura:if isTrue="{!col.answer !='NULL'}">
                                                                        <aura:if isTrue="{!col.type=='MULTIPICKLIST'}">
                                                                            <div class="ans">
                                                                                <aura:unescapedHtml value="{!col.answer}" />
                                                                            </div>
                                                                            <aura:set attribute="else">
                                                                                <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                                                <div class="ans">
                                                                                    <aura:unescapedHtml value="{!col.answer}" />
                                                                                </div>
                                                                                <aura:set attribute="else">
                                                                                    <div class="ans">
                                                                                        <aura:unescapedHtml value="{!col.answer}" />
                                                                                    </div>
                                                                                </aura:set>
                                                                                </aura:if>
                                                                            </aura:set>
                                                                        </aura:if>
                                                                    </aura:if>
                                                                    
                                                                </li>
                                                            </ul>
                                                        </aura:set>
                                                    </aura:if>
                                                        <hr style="margin-top: 5px; margin-bottom: 5px; opacity: 0.7;" />
                                                    </aura:set>
                                                </aura:if>
                                            </aura:iteration>
                                        </lightning:accordionSection>
                                    </aura:iteration>
                                </lightning:accordion>
                            </li>
                    </aura:set>
                    </aura:if>
                </aura:if>
                
                
                <!-- COLUMN 4-->
                <aura:if isTrue="{!not(empty(v.column4))}">
                    <aura:if isTrue="{!v.c4DisplayType == 'Card'}">
                        <li class="{!'slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_'+v.c4Span+'-of-4'}" style="position: relative;">
                            <aura:if isTrue="{! not(v.loaded4) }">
                                <div class="loader-container">
                                    <lightning:spinner alternativeText="Loading Data Please Wait..." aura:id="mySpinner" />
                                </div>
                            </aura:if>
                            <aura:if isTrue="{!not(empty(v.c4Title))}"><h2>{!v.c4Title}</h2></aura:if>
                            <aura:iteration items="{!v.column4}" var="column" indexVar="index">
                                <aura:if isTrue="{!not(and(v.c4Hide,column.hide))}">
                                <article class="{!'slds-card card-details '+index}" style="margin: 15px 0;">
                                    <div class="slds-card__header slds-grid">
                                        <header class="slds-media slds-media_center slds-has-flexi-truncate" style="padding-bottom: 10px;">
                                            <div class="slds-media__body">
                                                <h3 class="slds-card__header-title">
                                                    <span>{!column.label}</span>
                                                </h3>
                                            </div>
                                        <aura:if isTrue="{!v.c4Edit}">
                                            <div class="slds-no-flex">
                                                <div class="slds-dropdown-trigger slds-dropdown-trigger_click">
                                                     <button class="slds-button slds-button_neutral" onclick="{! c.editCol4 }">Edit</button>
                                                </div>
                                            </div>
                                        </aura:if>
                                        </header>
                                    </div>
                                    <div class="slds-card__body slds-card__body_inner">
                                        
                                    	<aura:if isTrue="{!v.c4EditNow}">    
                                            <lightning:recordEditForm 
                                                                      aura:id="recordEditForm"
                                                                      objectApiName="{!v.cObj}"
                                                                      onsuccess="{!c.addSuccess}"
                                                                      recordId="{!v.cRID}"
                                                                      >
                                                <lightning:messages />
                                                <aura:if isTrue="{!and(not(empty(v.column4)),v.c4Edit)}">
                                                        <aura:iteration items="{!column.data}" var="col" indexVar="c">
                                                            <lightning:inputField fieldName="{!col.api}"/>
                                                        </aura:iteration>
                                                </aura:if>
                    
                                                <lightning:button variant="Neutral" class="slds-m-top_small" type="button" label="Cancel" onclick="{! c.cancelCol4 }"/>
                                                <lightning:button variant="brand" class="slds-m-top_small slds-float_right" type="submit" label="Submit" />
                                                
                                            </lightning:recordEditForm>
                                        
                                        
                                        <aura:set attribute="else">
                                            <aura:iteration items="{!column.data}" var="col" indexVar="c">
                                                <aura:if isTrue="{!and(col.answer =='NULL', v.hideNull)}">
                                                    
                                                    <aura:set attribute="else">
                                                        <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                                <ul class="{!'q-block grid-fields slds-grid slds-wrap slds-grid_pull-padded q-name-'+col.api+' q-type-'+col.type}">
                                                                    <li class="{!'q-label slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-1'}">
                                                                        
                                                                        <b>{!col.label}</b>
                                                                        <aura:if isTrue="{!col.help!='NULL'}">
                                                                            <div class="help"><img src="{!$Resource.CYRILSLDSW21 + '/assets/icons/utility/info_alt_60.png'}" width="14" height="14" alt="help"/> {!col.help}</div>
                                                                        </aura:if>
                                                                        <aura:if isTrue="{!col.answer !='NULL'}">
                                                                            <aura:if isTrue="{!col.type=='MULTIPICKLIST'}">
                                                                                <div class="ans">
                                                                                    <aura:unescapedHtml value="{!col.answer}" />
                                                                                </div>
                                                                                <aura:set attribute="else">
                                                                                    <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                                                    <div class="ans">
                                                                                        <aura:unescapedHtml value="{!col.answer}" />
                                                                                    </div>
                                                                                    <aura:set attribute="else">
                                                                                        <div class="ans">
                                                                                            <aura:unescapedHtml value="{!col.answer}" />
                                                                                        </div>
                                                                                    </aura:set>
                                                                                    </aura:if>
                                                                                </aura:set>
                                                                            </aura:if>
                                                                        </aura:if>
                                                                    </li>
                                                                </ul>
                                                            
                                                            <aura:set attribute="else">
                                                                
                                                                <ul class="{!'q-block grid-fields slds-grid slds-wrap slds-grid_pull-padded q-name-'+col.api+' q-type-'+col.type}">
                                                                    <li class="{!'q-label slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-2'}">
                                                                        
                                                                        <b>{!col.label}</b>
                                                                        <aura:if isTrue="{!col.help!='NULL'}">
                                                                            <div class="help"><img src="{!$Resource.CYRILSLDSW21 + '/assets/icons/utility/info_alt_60.png'}" width="14" height="14" alt="help"/> {!col.help}</div>
                                                                        </aura:if>
                                                                    </li>
                                                                    <li class="{!'q-answer slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-2'}">
                                                                        
                                                                        <aura:if isTrue="{!col.answer !='NULL'}">
                                                                            <aura:if isTrue="{!col.type=='MULTIPICKLIST'}">
                                                                                <div class="ans">
                                                                                    <aura:unescapedHtml value="{!col.answer}" />
                                                                                </div>
                                                                                <aura:set attribute="else">
                                                                                    <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                                                    <div class="ans">
                                                                                        <aura:unescapedHtml value="{!col.answer}" />
                                                                                    </div>
                                                                                    <aura:set attribute="else">
                                                                                        <div class="ans">
                                                                                            <aura:unescapedHtml value="{!col.answer}" />
                                                                                        </div>
                                                                                    </aura:set>
                                                                                    </aura:if>
                                                                                </aura:set>
                                                                            </aura:if>
                                                                        </aura:if>
                                                                        
                                                                    </li>
                                                                </ul>
                                                            </aura:set>
                                                        </aura:if>
                                                        <hr style="margin-top: 5px; margin-bottom: 5px; opacity: 0.7;" />
                                                    </aura:set>
                                                </aura:if>
                                            </aura:iteration>
                                        </aura:set>
                                        </aura:if>
                                    </div>
                                </article>
                                </aura:if>
                            </aura:iteration>
                        </li>
                    
                	<aura:set attribute="else">
                        <!-- ACCORDION ********************************************************************** -->
                            <li class="{!'slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_'+v.c4Span+'-of-4'}" style="position: relative;">
                                <aura:if isTrue="{! not(v.loaded4) }">
                                    <div class="loader-container">
                                        <lightning:spinner alternativeText="Loading Data Please Wait..." aura:id="mySpinner" />
                                    </div>
                                </aura:if>
                                <aura:if isTrue="{!not(empty(v.c4Title))}"><h2>{!v.c4Title}</h2></aura:if>
                                <lightning:accordion aura:id="accordion">
                                    <aura:iteration items="{!v.column4}" var="column" indexVar="index">
                                        <lightning:accordionSection name="{!'section-'+index}" class="{!'sec-bar sec-'+index}" label="{!column.label}">
                                            <aura:iteration items="{!column.data}" var="col" indexVar="c">
                                                <aura:if isTrue="{!and(col.answer =='NULL', v.hideNull)}">
                                                    
                                                    <aura:set attribute="else">
                                                        <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                            <ul class="{!'q-block grid-fields slds-grid slds-wrap slds-grid_pull-padded q-name-'+col.api+' q-type-'+col.type}">
                                                                <li class="{!'q-label slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-1'}">
                                                                    
                                                                    <b>{!col.label}</b>
                                                                    <aura:if isTrue="{!col.help!='NULL'}">
                                                                        <div class="help"><img src="{!$Resource.CYRILSLDSW21 + '/assets/icons/utility/info_alt_60.png'}" width="14" height="14" alt="help"/> {!col.help}</div>
                                                                    </aura:if>
                                                                    <aura:if isTrue="{!col.answer !='NULL'}">
                                                                        <aura:if isTrue="{!col.type=='MULTIPICKLIST'}">
                                                                            <div class="ans">
                                                                                <aura:unescapedHtml value="{!col.answer}" />
                                                                            </div>
                                                                            <aura:set attribute="else">
                                                                                <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                                                <div class="ans">
                                                                                    <aura:unescapedHtml value="{!col.answer}" />
                                                                                </div>
                                                                                <aura:set attribute="else">
                                                                                    <div class="ans">
                                                                                        <aura:unescapedHtml value="{!col.answer}" />
                                                                                    </div>
                                                                                </aura:set>
                                                                                </aura:if>
                                                                            </aura:set>
                                                                        </aura:if>
                                                                    </aura:if>
                                                                </li>
                                                            </ul>
                                                        
                                                        <aura:set attribute="else">
                                                            
                                                            <ul class="{!'q-block grid-fields slds-grid slds-wrap slds-grid_pull-padded q-name-'+col.api+' q-type-'+col.type}">
                                                                <li class="{!'q-label slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-2'}">
                                                                    
                                                                    <b>{!col.label}</b>
                                                                    <aura:if isTrue="{!col.help!='NULL'}">
                                                                        <div class="help"><img src="{!$Resource.CYRILSLDSW21 + '/assets/icons/utility/info_alt_60.png'}" width="14" height="14" alt="help"/> {!col.help}</div>
                                                                    </aura:if>
                                                                </li>
                                                                <li class="{!'q-answer slds-p-horizontal_small slds-size_1-of-1 slds-medium-size_1-of-2'}">
                                                                    
                                                                    <aura:if isTrue="{!col.answer !='NULL'}">
                                                                        <aura:if isTrue="{!col.type=='MULTIPICKLIST'}">
                                                                            <div class="ans">
                                                                                <aura:unescapedHtml value="{!col.answer}" />
                                                                            </div>
                                                                            <aura:set attribute="else">
                                                                                <aura:if isTrue="{!col.type=='TEXTAREA'}">
                                                                                <div class="ans">
                                                                                    <aura:unescapedHtml value="{!col.answer}" />
                                                                                </div>
                                                                                <aura:set attribute="else">
                                                                                    <div class="ans">
                                                                                        <aura:unescapedHtml value="{!col.answer}" />
                                                                                    </div>
                                                                                </aura:set>
                                                                                </aura:if>
                                                                            </aura:set>
                                                                        </aura:if>
                                                                    </aura:if>
                                                                    
                                                                </li>
                                                            </ul>
                                                        </aura:set>
                                                    </aura:if>
                                                        <hr style="margin-top: 5px; margin-bottom: 5px; opacity: 0.7;" />
                                                    </aura:set>
                                                </aura:if>
                                            </aura:iteration>
                                        </lightning:accordionSection>
                                    </aura:iteration>
                                </lightning:accordion>
                            </li>
                    </aura:set>
                    </aura:if>
                </aura:if>
                
                
                
            </ul>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            

        
        
    </div>
    
    <aura:if isTrue="{!v.cEnableEdit}">
        <div class="slds-m-around_xx-large">
            <!--Use aura:if tag to display/hide popup based on isModalOpen value-->  
            <!-- Modal/Popup Box starts here-->
            <section aura:id="modal-add" role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal">
                <div class="slds-modal__container">
                    <!-- Modal/Popup Box Header Starts here-->
                    <header class="slds-modal__header">
                        <lightning:buttonIcon iconName="utility:close"
                                              onclick="{! c.closeModal }"
                                              alternativeText="close"
                                              variant="bare-inverse"
                                              class="slds-modal__close"/>
                        <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">{!v.cTitle}</h2>
                    </header>
                    <!--Modal/Popup Box Body Starts here-->
                    <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                        <lightning:recordEditForm 
                                                  aura:id="recordEditForm"
                                                  objectApiName="{!v.cObj}"
                                                  onsuccess="{!c.addSuccess}"
                                                  recordId="{!v.cRID}"
                                                  >
                            <lightning:messages />
                            <aura:if isTrue="{!and(not(empty(v.column1)),not(v.c1Exclude))}">
                                <aura:iteration items="{!v.column1}" var="column" indexVar="index">
                                    <h3>{!column.label}</h3>
                                    
                                    <aura:iteration items="{!column.data}" var="col" indexVar="c">
                                        <lightning:inputField fieldName="{!col.api}"/>
                                    </aura:iteration>
                                </aura:iteration>
                            </aura:if>
                            <aura:if isTrue="{!and(not(empty(v.column2)),not(v.c2Exclude))}">
                                <hr></hr>
                                <aura:iteration items="{!v.column2}" var="column" indexVar="index">
                                    <h3>{!column.label}</h3>
                                    
                                    <aura:iteration items="{!column.data}" var="col" indexVar="c">
                                        <lightning:inputField fieldName="{!col.api}"/>
                                    </aura:iteration>
                                </aura:iteration>
                            </aura:if>
                            <aura:if isTrue="{!and(not(empty(v.column3)),not(v.c3Exclude))}">
                                <hr></hr>
                                <aura:iteration items="{!v.column3}" var="column" indexVar="index">
                                    <h3>{!column.label}</h3>
                                    
                                    <aura:iteration items="{!column.data}" var="col" indexVar="c">
                                        <lightning:inputField fieldName="{!col.api}"/>
                                    </aura:iteration>
                                </aura:iteration>
                            </aura:if>
                            <aura:if isTrue="{!and(not(empty(v.column4)),not(v.c4Exclude))}">
                                <hr></hr>
                                <aura:iteration items="{!v.column4}" var="column" indexVar="index">
                                    <h3>{!column.label}</h3>
                                    
                                    <aura:iteration items="{!column.data}" var="col" indexVar="c">
                                        <lightning:inputField fieldName="{!col.api}"/>
                                    </aura:iteration>
                                </aura:iteration>
                            </aura:if>
                            
                            <lightning:button variant="brand" class="slds-m-top_small" type="submit" label="Submit" />
                        </lightning:recordEditForm>
                    </div>
                </div>
            </section>
            <div aura:id="modal-add-back" class="slds-backdrop"></div>
        </div>
    </aura:if>
    
    
    <aura:html tag="style">
        .block-cdetails .ans{
        padding: 5px 10px;
        background-color: var(--lwc-brandNavigationBarBackgroundColor,rgb(239, 243, 231));
        color: var(--lwc-brandTextLink,rgb(35, 87, 65));
        border-radius: 0px 5px 5px 5px / 0px 5px 5px 5px; 
        word-wrap:break-word;
        }
        .block-cdetails .slds-page-header__name-title h2{
        line-height: normal;
        position: relative;
        top: -8px;
        }
        .block-cdetails .slds-page-header__name-title h2 .slds-page-header__title{
        margin-bottom: -8px;
        text-transform: uppercase;
        font-size: 12px !important;
        }
        .block-cdetails .slds-grid .slds-medium-size_1-of-4 .q-block li{
            width: 100%;
        }
        .block-cdetails .slds-accordion{
        	margin: 15px 0;
      	}
        .block-cdetails .slds-accordion .slds-accordion__summary-heading button{
            font-size: 130%;
            
        }
        .block-cdetails .slds-accordion .slds-accordion__section.slds-is-open{
            border: var(--lwc-borderWidthThin,1px) solid var(--lwc-cardColorBorder,#F4F4F4);
            border-radius: var(--lwc-borderRadiusMedium,0.25rem);
            padding: 0;
        }
        
        .block-cdetails .slds-accordion .slds-is-open .slds-accordion__summary-heading{
            font-size: 130%;
            background-color: var(--lwc-colorBorder,#F4F4F4);
            padding: 5px 10px;
            padding: var(--lwc-varSpacingVerticalSmall,0.75rem) var(--lwc-varSpacingHorizontalMedium,1rem) 0;
            margin: 0;
            padding-bottom: 10px;
        }
        .block-cdetails .slds-accordion .slds-is-open .slds-accordion__content{
            padding: 0px 15px 15px 15px;
        }
 
    </aura:html>
    
    
</aura:component>