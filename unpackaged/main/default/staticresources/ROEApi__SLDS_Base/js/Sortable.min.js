!function(a){"use strict";"function"==typeof define&&define.amd?define(a):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=a():"undefined"!=typeof Package?Sortable=a():window.Sortable=a()}(function(){"use strict";function F(a,b){if(!a||!a.nodeType||1!==a.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(a);this.el=a,this.options=b=Y({},b),a[t]=this;var c={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(a.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",ignore:"a, img",filter:null,animation:0,setData:$A.getCallback(function(a,b){a.setData("Text",b.textContent)}),dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1};for(var d in c)!(d in b)&&(b[d]=c[d]);E(b);for(var e in this)"_"===e.charAt(0)&&(this[e]=this[e].bind(this));if(this.nativeDraggable=!b.forceFallback&&x,K(a,"mousedown",this._onTapStart),K(a,"touchstart",this._onTapStart),this.nativeDraggable){var f=this;K(a,"dragover",$A.getCallback(function(a){G(a,f)})),K(a,"dragenter",$A.getCallback(function(a){G(a,f)}))}C.push(this._onDragOver),b.store&&this.sort(b.store.get(this))}function G(b,c){var d=b.type;"dragover"===d||"dragenter"===d?a&&(c._onDragOver(b),J(b)):"drop"!==d&&"dragend"!==d||c._onDrop(b)}function H(b){d&&d.state!==b&&(N(d,"display",b?"none":""),!b&&d.state&&e.insertBefore(d,a),d.state=b)}function I(a,b,c){if(a){c=c||v;do if(">*"===b&&a.parentNode===c||W(a,b))return a;while(a="host"in a?a.host:a.parentNode)}return null}function J(a){a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.preventDefault()}function K(a,b,c){a.addEventListener(b,c,!1)}function L(a,b,c){a.removeEventListener(b,c,!1)}function M(a,b,c){if(a)if(a.classList)a.classList[c?"add":"remove"](b);else{var d=(" "+a.className+" ").replace(s," ").replace(" "+b+" "," ");a.className=(d+(c?" "+b:"")).replace(s," ")}}function N(a,b,c){var d=a&&a.style;if(d){if(void 0===c)return v.defaultView&&v.defaultView.getComputedStyle?c=v.defaultView.getComputedStyle(a,""):a.currentStyle&&(c=a.currentStyle),void 0===b?c:c[b];b in d||(b="-webkit-"+b),d[b]=c+("string"==typeof c?"":"px")}}function O(a,b,c){if(a){var d=a.getElementsByTagName(b),e=0,f=d.length;if(c)for(;e<f;e++)c(d[e],e);return d}return[]}function P(a,b,c,e,f,g,h){var i=v.createEvent("Event"),j=(a||b[t]).options,k="on"+c.charAt(0).toUpperCase()+c.substr(1);i.initEvent(c,!0,!0),i.to=b,i.from=f||b,i.item=e||b,i.clone=d,i.oldIndex=g,i.newIndex=h,b.dispatchEvent(i),j[k]&&j[k].call(a,i)}function Q(a,b,c,d,e,f){var g,j,h=a[t],i=h.options.onMove;return g=v.createEvent("Event"),g.initEvent("move",!0,!0),g.to=b,g.from=a,g.dragged=c,g.draggedRect=d,g.related=e||b,g.relatedRect=f||b.getBoundingClientRect(),a.dispatchEvent(g),i&&(j=i.call(h,g)),j}function R(a){a.draggable=!1}function S(){z=!1}function T(a,b){var c=a.lastChild,d=c.getBoundingClientRect();return(b.clientY-(d.top+d.height)>5||b.clientX-(d.right+d.width)>5)&&c}function U(a){for(var b=a.tagName+a.className+a.src+a.href+a.textContent,c=b.length,d=0;c--;)d+=b.charCodeAt(c);return d.toString(36)}function V(a,b){var c=0;if(!a||!a.parentNode)return-1;for(;a&&(a=a.previousElementSibling);)"TEMPLATE"!==a.nodeName.toUpperCase()&&W(a,b)&&c++;return c}function W(a,b){if(a){b=b.split(".");var c=b.shift().toUpperCase(),d=new RegExp("\\s("+b.join("|")+")(?=\\s)","g");return!(""!==c&&a.nodeName.toUpperCase()!=c||b.length&&((" "+a.className+" ").match(d)||[]).length!=b.length)}return!1}function X(a,b){var c,d;return function(){void 0===c&&(c=arguments,d=this,setTimeout(function(){1===c.length?a.call(d,c[0]):a.apply(d,c),c=void 0},b))}}function Y(a,b){if(a&&b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}if("undefined"==typeof window||"undefined"==typeof window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var a,b,c,d,e,f,g,h,i,j,k,l,m,n,p,q,r,o={},s=/\s+/g,t="Sortable"+(new Date).getTime(),u=window,v=u.document,w=u.parseInt,x=!!("draggable"in v.createElement("div")),y=function(a){return a=v.createElement("x"),a.style.cssText="pointer-events:auto","auto"===a.style.pointerEvents}(),z=!1,A=Math.abs,C=([].slice,[]),D=X(function(a,b,c){if(c&&b.scroll){var d,e,n,p,f=b.scrollSensitivity,i=b.scrollSpeed,j=a.clientX,k=a.clientY,l=window.innerWidth,m=window.innerHeight;if(h!==c&&(g=b.scroll,h=c,g===!0)){g=c;do if(g.offsetWidth<g.scrollWidth||g.offsetHeight<g.scrollHeight)break;while(g=g.parentNode)}g&&(d=g,e=g.getBoundingClientRect(),n=(A(e.right-j)<=f)-(A(e.left-j)<=f),p=(A(e.bottom-k)<=f)-(A(e.top-k)<=f)),n||p||(n=(l-j<=f)-(j<=f),p=(m-k<=f)-(k<=f),(n||p)&&(d=u)),o.vx===n&&o.vy===p&&o.el===d||(o.el=d,o.vx=n,o.vy=p,clearInterval(o.pid),d&&(o.pid=setInterval(function(){d===u?u.scrollTo(u.pageXOffset+n*i,u.pageYOffset+p*i):(p&&(d.scrollTop+=p*i),n&&(d.scrollLeft+=n*i))},24)))}},30),E=function(a){var b=a.group;b&&"object"==typeof b||(b=a.group={name:b}),["pull","put"].forEach(function(a){a in b||(b[a]=!0)}),a.groups=" "+b.name+(b.put.join?" "+b.put.join(" "):"")+" "};return F.prototype={constructor:F,_onTapStart:function(a){var b=this,c=this.el,d=this.options,e=a.type,f=a.touches&&a.touches[0],g=(f||a).target,h=a.target.shadowRoot&&a.path[0]||g,i=d.filter;if(!("mousedown"===e&&0!==a.button||d.disabled)&&(g=I(g,d.draggable,c))){if(l=V(g,d.draggable),"function"==typeof i){if(i.call(this,a,g,this))return P(b,h,"filter",g,c,l),void a.preventDefault()}else if(i&&(i=i.split(",").some(function(a){if(a=I(h,a.trim(),c))return P(b,a,"filter",g,c,l),!0})))return void a.preventDefault();d.handle&&!I(h,d.handle,c)||this._prepareDragStart(a,f,g)}},_prepareDragStart:function(c,d,g){var l,h=this,i=h.el,j=h.options,k=i.ownerDocument;g&&!a&&g.parentNode===i&&(p=c,e=i,a=g,b=a.parentNode,f=a.nextSibling,n=j.group,l=function(){h._disableDelayedDrag(),a.draggable=!0,M(a,h.options.chosenClass,!0),h._triggerDragStart(d)},j.ignore.split(",").forEach(function(b){O(a,b.trim(),R)}),K(k,"mouseup",h._onDrop),K(k,"touchend",h._onDrop),K(k,"touchcancel",h._onDrop),j.delay?(K(k,"mouseup",h._disableDelayedDrag),K(k,"touchend",h._disableDelayedDrag),K(k,"touchcancel",h._disableDelayedDrag),K(k,"mousemove",h._disableDelayedDrag),K(k,"touchmove",h._disableDelayedDrag),h._dragStartTimer=setTimeout(l,j.delay)):l())},_disableDelayedDrag:function(){var a=this.el.ownerDocument;clearTimeout(this._dragStartTimer),L(a,"mouseup",this._disableDelayedDrag),L(a,"touchend",this._disableDelayedDrag),L(a,"touchcancel",this._disableDelayedDrag),L(a,"mousemove",this._disableDelayedDrag),L(a,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(b){if(b)p={target:a,clientX:b.clientX,clientY:b.clientY},this._onDragStart(p,"touch");else if(this.nativeDraggable){var c=this;K(a,"dragend",$A.getCallback(function(a){G(a,c)})),K(e,"dragstart",this._onDragStart)}else this._onDragStart(p,!0);try{v.selection?setTimeout(function(){v.selection.empty()}):window.getSelection().removeAllRanges()}catch(a){}},_dragStarted:function(){e&&a&&(M(a,this.options.ghostClass,!0),F.active=this,P(this,e,"start",a,e,l))},_emulateDragOver:function(){if(q){if(this._lastX===q.clientX&&this._lastY===q.clientY)return;this._lastX=q.clientX,this._lastY=q.clientY,y||N(c,"display","none");var a=v.elementFromPoint(q.clientX,q.clientY),b=a,d=" "+this.options.group.name,e=C.length;if(b)do{if(b[t]&&b[t].options.groups.indexOf(d)>-1){for(;e--;)C[e]({clientX:q.clientX,clientY:q.clientY,target:a,rootEl:b});break}a=b}while(b=b.parentNode);y||N(c,"display","")}},_onTouchMove:function(a){if(p){F.active||this._dragStarted(),this._appendGhost();var b=a.touches?a.touches[0]:a,d=b.clientX-p.clientX,e=b.clientY-p.clientY,f=a.touches?"translate3d("+d+"px,"+e+"px,0)":"translate("+d+"px,"+e+"px)";r=!0,q=b,N(c,"webkitTransform",f),N(c,"mozTransform",f),N(c,"msTransform",f),N(c,"transform",f),a.preventDefault()}},_appendGhost:function(){if(!c){var g,b=a.getBoundingClientRect(),d=N(a),f=this.options;c=a.cloneNode(!0),M(c,f.ghostClass,!1),M(c,f.fallbackClass,!0),N(c,"top",b.top-w(d.marginTop,10)),N(c,"left",b.left-w(d.marginLeft,10)),N(c,"width",b.width),N(c,"height",b.height),N(c,"opacity","0.8"),N(c,"position","fixed"),N(c,"zIndex","100000"),N(c,"pointerEvents","none"),f.fallbackOnBody&&v.body.appendChild(c)||e.appendChild(c),g=c.getBoundingClientRect(),N(c,"width",2*b.width-g.width),N(c,"height",2*b.height-g.height)}},_onDragStart:function(b,c){var f=b.dataTransfer,g=this.options;if(this._offUpEvents(),"clone"==n.pull&&(d=a.cloneNode(!0),N(d,"display","none"),e.insertBefore(d,a)),c)"touch"===c?(K(v,"touchmove",this._onTouchMove),K(v,"touchend",this._onDrop),K(v,"touchcancel",this._onDrop)):(K(v,"mousemove",this._onTouchMove),K(v,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50);else{f&&(f.effectAllowed="move",g.setData&&g.setData.call(this,f,a));var h=this;K(v,"drop",$A.getCallback(function(a){G(a,h)})),setTimeout(this._dragStarted,0)}},_onDragOver:function(g){var l,m,o,h=this.el,p=this.options,q=p.group,s=q.put,u=n===q,v=p.sort;if(void 0!==g.preventDefault&&(g.preventDefault(),!p.dragoverBubble&&g.stopPropagation()),r=!0,n&&!p.disabled&&(u?v||(o=!e.contains(a)):n.pull&&s&&(n.name===q.name||s.indexOf&&~s.indexOf(n.name)))&&(void 0===g.rootEl||g.rootEl===this.el)){if(D(g,p,this.el),z)return;if(l=I(g.target,p.draggable,h),m=a.getBoundingClientRect(),o)return H(!0),void(d||f?e.insertBefore(a,d||f):v||e.appendChild(a));if(0===h.children.length||h.children[0]===c||h===g.target&&(l=T(h,g))){if(l){if(l.animated)return;w=l.getBoundingClientRect()}H(u),Q(e,h,a,m,l,w)!==!1&&(a.contains(h)||(h.appendChild(a),b=h),this._animate(m,a),l&&this._animate(w,l))}else if(l&&!l.animated&&l!==a&&void 0!==l.parentNode[t]){i!==l&&(i=l,j=N(l),k=N(l.parentNode));var J,w=l.getBoundingClientRect(),x=w.right-w.left,y=w.bottom-w.top,A=/left|right|inline/.test(j.cssFloat+j.display)||"flex"==k.display&&0===k["flex-direction"].indexOf("row"),B=l.offsetWidth>a.offsetWidth,C=l.offsetHeight>a.offsetHeight,E=(A?(g.clientX-w.left)/x:(g.clientY-w.top)/y)>.5,F=l.nextElementSibling,G=Q(e,h,a,m,l,w);if(G!==!1){if(z=!0,setTimeout(S,30),H(u),1===G||G===-1)J=1===G;else if(A){var K=a.offsetTop,L=l.offsetTop;J=K===L?l.previousElementSibling===a&&!B||E&&B:L>K}else J=F!==a&&!C||E&&C;a.contains(h)||(J&&!F?h.appendChild(a):l.parentNode.insertBefore(a,J?F:l)),b=a.parentNode,this._animate(m,a),this._animate(w,l)}}}},_animate:function(a,b){var c=this.options.animation;if(c){var d=b.getBoundingClientRect();N(b,"transition","none"),N(b,"transform","translate3d("+(a.left-d.left)+"px,"+(a.top-d.top)+"px,0)"),b.offsetWidth,N(b,"transition","all "+c+"ms"),N(b,"transform","translate3d(0,0,0)"),clearTimeout(b.animated),b.animated=setTimeout(function(){N(b,"transition",""),N(b,"transform",""),b.animated=!1},c)}},_offUpEvents:function(){var a=this.el.ownerDocument;L(v,"touchmove",this._onTouchMove),L(a,"mouseup",this._onDrop),L(a,"touchend",this._onDrop),L(a,"touchcancel",this._onDrop)},_onDrop:function(g){var h=this.el,i=this.options;if(clearInterval(this._loopId),clearInterval(o.pid),clearTimeout(this._dragStartTimer),L(v,"mousemove",this._onTouchMove),this.nativeDraggable&&(L(v,"drop",this),L(h,"dragstart",this._onDragStart)),this._offUpEvents(),g&&(r&&(g.preventDefault(),!i.dropBubble&&g.stopPropagation()),c&&c.parentNode.removeChild(c),a)){if(this.nativeDraggable){var j=this;L(a,"dragend",$A.getCallback(function(a){G(a,j)}))}R(a),M(a,this.options.ghostClass,!1),M(a,this.options.chosenClass,!1),e!==b?(m=V(a,i.draggable),m>=0&&(P(null,b,"sort",a,e,l,m),P(this,e,"sort",a,e,l,m),P(null,b,"add",a,e,l,m),P(this,e,"remove",a,e,l,m))):(d&&d.parentNode.removeChild(d),a.nextSibling!==f&&(m=V(a,i.draggable),m>=0&&(P(this,e,"update",a,e,l,m),P(this,e,"sort",a,e,l,m)))),F.active&&(null!=m&&m!==-1||(m=l),P(this,e,"end",a,e,l,m),this.save())}this._nulling()},_nulling:function(){F.active===this&&(e=a=b=c=f=d=g=h=p=q=r=m=i=j=n=F.active=null)},handleEvent:function(b){var c=b.type;"dragover"===c||"dragenter"===c?a&&(this._onDragOver(b),J(b)):"drop"!==c&&"dragend"!==c||this._onDrop(b)},toArray:function(){for(var b,a=[],c=this.el.children,d=0,e=c.length,f=this.options;d<e;d++)b=c[d],I(b,f.draggable,this.el)&&a.push(b.getAttribute(f.dataIdAttr)||U(b));return a},sort:function(a){var b={},c=this.el;this.toArray().forEach(function(a,d){var e=c.children[d];I(e,this.options.draggable,c)&&(b[a]=e)},this),a.forEach(function(a){b[a]&&(c.removeChild(b[a]),c.appendChild(b[a]))})},save:function(){var a=this.options.store;a&&a.set(this)},closest:function(a,b){return I(a,b||this.options.draggable,this.el)},option:function(a,b){var c=this.options;return void 0===b?c[a]:(c[a]=b,void("group"===a&&E(c)))},destroy:function(){var a=this.el;a[t]=null,L(a,"mousedown",this._onTapStart),L(a,"touchstart",this._onTapStart),this.nativeDraggable&&(L(a,"dragover",this),L(a,"dragenter",this)),Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")}),C.splice(C.indexOf(this._onDragOver),1),this._onDrop(),this.el=a=null}},F.utils={on:K,off:L,css:N,find:O,is:function(a,b){return!!I(a,b,a)},extend:Y,throttle:X,closest:I,toggleClass:M,index:V},F.create=function(a,b){return new F(a,b)},F.version="1.4.2",F});